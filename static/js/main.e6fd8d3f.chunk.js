(this.webpackJsonpthree_js_playground=this.webpackJsonpthree_js_playground||[]).push([[0],{230:function(e,t,n){e.exports=n(407)},237:function(e,t,n){},405:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(40),c=n.n(o),l=n(195),i=n(34),u=n(125),m=n(48),s=n(205),v=n(8),f=n(9),d=n(26),p=function(e){var t=e.children,n=e.tw,a=void 0===n?"":n,o=Object(i.a)(e,["children","tw"]);return r.a.createElement("div",Object.assign({className:"text-center lg:text-lg ".concat(a)},o),r.a.createElement("p",null,t))},h=function(e){var t=e.text,n=e.children,a=e.xtra,o=e.measure,c=Object(i.a)(e,["text","children","xtra","measure"]);return r.a.createElement("div",{className:"w-full h-screen flex flex-col"},r.a.createElement("div",Object.assign({ref:o,className:"flex-auto"},c),r.a.createElement(f.a,null,r.a.createElement("ambientLight",null),r.a.createElement("pointLight",{position:[10,10,10]}),n,r.a.createElement(d.b,null))),r.a.createElement("div",{className:"py-2 flex justify-center items-center"},t&&r.a.createElement(p,null,t),a&&a))},b=function(){var e=Object(a.useRef)(),t=Object(a.useState)(!1),n=Object(v.a)(t,2),o=n[0],c=n[1];return Object(f.d)((function(){return e.current.rotation.x=e.current.rotation.y+=.01})),r.a.createElement("mesh",{ref:e,scale:o?[1.5,1.5,1.5]:[1,1,1],onPointerOver:function(){return c(!0)},onPointerOut:function(){return c(!1)}},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[2,2,2]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:o?"hotpink":"orange"}),r.a.createElement(d.a,null))},g=function(){return r.a.createElement(h,{text:"Simple box geometry with hover event."},r.a.createElement(b,null))},x=n(0),y=n(21),E=101,j=function(e,t){for(var n=t*e,a=new Array(t*e),r=new Array(t*e),o=new Array(t*e),c=0,l=0;c<e;++c)for(var i=0;i<t;++i,++l)r[l]=i,o[l]=25*Math.sin(i*Math.PI/50)+c,a[l]=Math.pow(r[l]-50,2)+Math.pow(o[l]-50,2);return{xgrid:r,ygrid:o,values:a,nverts:n}}(101,E),O=j.xgrid,S=j.ygrid,_=j.values,w=j.nverts,M=Object(y.b)(O),z=Object(v.a)(M,2),U=z[0],C=z[1],A=.5*(U+C),F=C-U,P=Object(y.b)(S),N=Object(v.a)(P,2),k=N[0],D=N[1],B=.5*(k+D),G=D-k,T=Object(y.b)(_),R=Object(v.a)(T,2),V=R[0],I=R[1],L=.5*(V+I),q=I-V,H=1.2/Math.max(F,G),K=.5/q,X=Object(y.d)().domain(Object(y.b)(_)).interpolate((function(){return y.c})),J=function(){var e=Object(a.useMemo)((function(){for(var e=[],t=[],n=0;n<w;n++){e.push((O[n]-A)*H),e.push((S[n]-B)*H),e.push((_[n]-L)*K);var a=Object(y.a)(X(_[n]));t.push(a.r/255,a.g/255,a.b/255)}return[new Float32Array(e),new Float32Array(t)]}),[]),t=Object(v.a)(e,2),n=t[0],o=t[1],c=Object(a.useMemo)((function(){for(var e=[],t=0;t<100;t++)for(var n=0;n<100;n++){var a=t*E+n,r=a+1,o=(t+1)*E+n+1,c=o-1;e.push(a,r,o),e.push(o,c,a)}return new Uint16Array(e)}),[]);return r.a.createElement("mesh",{"rotation-x":-Math.PI/2,scale:[4,4,4]},r.a.createElement("bufferGeometry",{attach:"geometry",onUpdate:function(e){e.computeFaceNormals(),e.computeVertexNormals()}},r.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:n.length/3,array:n,itemSize:3}),r.a.createElement("bufferAttribute",{attachObject:["attributes","color"],count:o.length/3,array:o,itemSize:3}),r.a.createElement("bufferAttribute",{attach:"index",count:c.length,array:c,itemSize:1})),r.a.createElement("meshPhongMaterial",{attach:"material",side:x.DoubleSide,vertexColors:!0}),r.a.createElement(d.a,null))},W=function(){return r.a.createElement(h,{text:"Surface plot using vertex and faces, colored with d3."},r.a.createElement(J,null))},Q=n(119),Y=n(200),Z=n.n(Y),$=n(128),ee=n(120),te=function(e){var t=(new x.TextureLoader).load(e);return t.wrapS=x.RepeatWrapping,t.wrapT=x.RepeatWrapping,t},ne=function(e){var t=e.children,n=e.handleUpload,o=void 0===n?function(){}:n,c=Object(i.a)(e,["children","handleUpload"]),l=Object(a.useRef)();return r.a.createElement("div",{className:"text-sm ml-2"},r.a.createElement("input",{ref:l,type:"file",className:"hidden",accept:"image/*",onChange:o}),r.a.createElement("button",Object.assign({},c,{onClick:function(){return l.current.click()}}),t))},ae=(n(237),function(e){var t=e.children,n=e.vertexShaderCode,o=e.fragmentShaderCode,c=e.textureUrl,l=e.materialSide,u=Object(i.a)(e,["children","vertexShaderCode","fragmentShaderCode","textureUrl","materialSide"]),m=Object(f.g)(),s=m.mouse,v=m.clock,d=m.aspect,p=Object(f.h)((function(e){e.vertexShader=n,e.fragmentShader=o,e.needsUpdate=!0}),[n,o]),h=Object(a.useMemo)((function(){return{u_time:{value:0},u_aspect:{value:1},u_mouse:{value:s},u_texture:{value:0}}}),[s]);return Object(a.useEffect)((function(){h.u_aspect.value=d}),[d,h]),Object(a.useEffect)((function(){c&&(h.u_texture.value=te(c))}),[c,h]),Object(f.d)((function(){h.u_time.value+=v.elapsedTime/1e3})),r.a.createElement("mesh",u,t,r.a.createElement("shaderMaterial",{ref:p,attach:"material",uniforms:h,side:l}))}),re=function(e){var t=e.code,n=e.setCode,o=e.className,c=void 0===o?"":o,l=Object(i.a)(e,["code","setCode","className"]),u=Object(a.useCallback)((function(e){return r.a.createElement($.a,Object.assign({},$.b,{theme:ee.a,code:e,language:"jsx"}),(function(e){var t=e.tokens,n=e.getLineProps,a=e.getTokenProps;return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",n({line:e,key:t}),r.a.createElement(r.a.Fragment,null,e.map((function(e,t){return r.a.createElement("span",Object.assign({key:t},a({token:e,key:t})))}))))})))}))}),[]);return r.a.createElement(Z.a,{value:t,onValueChange:n,highlight:u,padding:10,textareaClassName:"editor-text-area",className:c,style:Object(Q.a)(Object(Q.a)({fontSize:"0.8em",overflow:"auto",boxSizing:"border-box",fontFamily:'"Dank Mono", "Fira Code", monospace'},ee.a.plain),l)})},oe=function(e){var t=e.children,n=e.texture,o=e.description,c=e.vertexShader,l=e.fragmentShader,u=e.xtra,m=e.materialSide,s=void 0===m?x.FrontSide:m,f=e.textureEnable,d=void 0===f||f,p=Object(i.a)(e,["children","texture","description","vertexShader","fragmentShader","xtra","materialSide","textureEnable"]),b=Object(a.useState)(n),g=Object(v.a)(b,2),y=g[0],E=g[1],j=function(e){var t=URL.createObjectURL(e.target.files[0]);E(t)},O=Object(a.useState)(c),S=Object(v.a)(O,2),_=S[0],w=S[1],M=Object(a.useState)(l),z=Object(v.a)(M,2),U=z[0],C=z[1],A=Object(a.useMemo)((function(){return!(!u&&!d)&&r.a.createElement(r.a.Fragment,null,u,r.a.createElement(ne,{handleUpload:j},"Upload texture"))}),[d,u]);return r.a.createElement("div",{className:"w-full grid grid-cols-6 grid-flow-row"},r.a.createElement("div",{className:"row-span-2 col-span-3 xl:col-span-4"},r.a.createElement(h,{text:o,xtra:A},r.a.createElement(ae,Object.assign({vertexShaderCode:_,fragmentShaderCode:U,textureUrl:y,materialSide:s},p),t))),r.a.createElement("div",{className:"col-span-3 xl:col-span-2"},r.a.createElement(re,{code:_,className:"h-screen-49",setCode:w})),r.a.createElement("div",{className:"col-span-3 xl:col-span-2"},r.a.createElement(re,{code:U,className:"h-screen-49",setCode:C})))},ce=function(e,t){for(var n=t*e,a=new Array(t*e),r=new Array(t*e),o=new Array(t*e),c=0,l=0;c<e;++c)for(var i=0;i<t;++i,++l)r[l]=i,o[l]=25*Math.sin(i*Math.PI/50)+c,a[l]=Math.pow(r[l]-50,2)+Math.pow(o[l]-50,2);return{xgrid:r,ygrid:o,values:a,nverts:n}}(101,101),le=ce.xgrid,ie=ce.ygrid,ue=ce.values,me=ce.nverts,se=Object(y.b)(le),ve=Object(v.a)(se,2),fe=ve[0],de=ve[1],pe=.5*(fe+de),he=de-fe,be=Object(y.b)(ie),ge=Object(v.a)(be,2),xe=ge[0],ye=ge[1],Ee=.5*(xe+ye),je=ye-xe,Oe=Object(y.b)(ue),Se=Object(v.a)(Oe,2),_e=Se[0],we=Se[1],Me=.5*(_e+we),ze=we-_e,Ue=1.2/Math.max(he,je),Ce=.5/ze,Ae=Object(y.d)().domain(Object(y.b)(ue)).interpolate((function(){return y.c})),Fe=function(){var e=Object(a.useMemo)((function(){for(var e=[],t=[],n=0;n<me;n++){e.push((le[n]-pe)*Ue),e.push((ie[n]-Ee)*Ue),e.push((ue[n]-Me)*Ce);var a=Object(y.a)(Ae(ue[n]));t.push(a.r/255,a.g/255,a.b/255)}return[new Float32Array(e),new Float32Array(t)]}),[]),t=Object(v.a)(e,2),n=t[0],o=t[1],c=Object(a.useMemo)((function(){for(var e=[],t=0;t<100;t++)for(var n=0;n<100;n++){var a=101*t+n,r=a+1,o=101*(t+1)+n+1,c=o-1;e.push(a,r,o),e.push(o,c,a)}return new Uint16Array(e)}),[]);return r.a.createElement(oe,{description:"Surface plot using vertex and faces, colored with a custom fragment shader.",textureEnable:!1,vertexShader:"\n  varying float z;\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    vec3 pos = position;\n    z = 0.41 + pos.z*1.5;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n  }\n",fragmentShader:"\n  varying float z;\n  varying vec2 vUv;\n  uniform float u_time;\n  uniform float u_aspect;\n  uniform vec2 u_mouse;\n  uniform sampler2D u_texture;\n  \n  void main() {\n    gl_FragColor = vec4(z, cos(z*200.0), cos(z*100.0), 1.0);\n  }\n",materialSide:x.DoubleSide,"rotation-x":-Math.PI/2,scale:[4,4,4]},r.a.createElement("bufferGeometry",{attach:"geometry",onUpdate:function(e){e.computeFaceNormals(),e.computeVertexNormals()}},r.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:n.length/3,array:n,itemSize:3}),r.a.createElement("bufferAttribute",{attachObject:["attributes","color"],count:o.length/3,array:o,itemSize:3}),r.a.createElement("bufferAttribute",{attach:"index",count:c.length,array:c,itemSize:1})),r.a.createElement(d.a,null))},Pe=n(22),Ne=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useMemo)((function(){return{vertexShader:"\n  attribute float displacement;\n  varying float z;\n\n  void main() {\n    vec3 pos = position;\n    z = pos.z;\n    pos.x += (displacement/1.0);\n    // pos.y += cos(displacement/2.0);\n    // pos.y += fract(displacement/2.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n  }\n",fragmentShader:"\n  uniform float delta;\n  varying float z;\n  \n  void main() {\n    gl_FragColor = vec4(z*0.5, 0.5 + cos(delta)*0.25, sin(delta), 1.0);\n  }\n",uniforms:{delta:{value:0}}}}),[]),o=Object(a.useState)(),c=Object(v.a)(o,2),l=c[0],i=c[1],u=Object(a.useCallback)((function(e){if(!l){var t=e.attributes.position.count,n=new Float32Array(t);i(n)}}),[l]),m=Object(Pe.b)("Color speed",{type:"number",value:.1,max:10}),s=Object(Pe.b)("Distortion lvl",{type:"number",value:0,max:1});return Object(f.d)((function(){e.current.rotation.x=e.current.rotation.y+=.01,n.uniforms.delta.value+=m;for(var a=0;a<l.length;a++)l[a]=Math.random()*s;t.current.attributes.displacement.needsUpdate=!0})),r.a.createElement("mesh",{ref:e},r.a.createElement("boxBufferGeometry",{ref:t,attach:"geometry",args:[3,3,3],onUpdate:function(e){return u(e)}},l&&r.a.createElement("bufferAttribute",{attachObject:["attributes","displacement"],count:l.length,array:l,itemSize:1})),r.a.createElement("shaderMaterial",Object.assign({attach:"material"},n)),r.a.createElement(d.a,null))},ke=function(){return r.a.createElement(h,{text:"Testing the use of shaders.",xtra:r.a.createElement(Pe.a,null)},r.a.createElement(Ne,null))},De=n(18),Be=function(){var e=Object(a.useRef)(),t=Object(Pe.b)("width",{type:"number",value:5,min:1,max:10}),n=Object(Pe.b)("height",{type:"number",value:5,min:1,max:10}),o=Object(Pe.b)("width segments",{type:"number",value:10,min:2,max:100}),c=Object(Pe.b)("height segments",{type:"number",value:10,min:2,max:100}),l=Object(Pe.b)("max elevation",{type:"number",value:.25,min:0,max:2}),i=Object(Pe.b)("wireframe",{type:"boolean",value:!1}),u=Object(a.useState)([]),m=Object(v.a)(u,2),s=m[0],f=m[1],p=Object(a.useCallback)((function(e){for(var t=e.attributes.position.array,n=0;n<t.length;n++)n%3===2&&(t[n]=Math.random()*l);if(s&&s.length===t.length)e.setAttribute("color",new x.Float32BufferAttribute(s,3));else{var a=Object(De.a)(t.filter((function(e,t){return t%3===2}))),r=Object(y.d)().domain(Object(y.b)(a)).interpolate((function(){return y.c})),o=[];a.forEach((function(e){var t=Object(y.a)(r(e));o.push(t.r/255,t.g/255,t.b/255)})),f((function(){return e.setAttribute("color",new x.Float32BufferAttribute(o,3)),o}))}}),[s,l]);return Object(a.useEffect)((function(){p(e.current),e.current.attributes.position.needsUpdate=!0}),[l,p]),r.a.createElement("mesh",{"rotation-x":-Math.PI/2,"position-y":-1.5},r.a.createElement("planeBufferGeometry",{ref:e,attach:"geometry",args:[t,n,o,c],onUpdate:function(e){return p(e)}}),r.a.createElement("meshPhongMaterial",{attach:"material",side:x.DoubleSide,wireframe:i,vertexColors:!0}),r.a.createElement(d.a,null))},Ge=function(){return r.a.createElement(h,{text:"Using a plane buffer geometry to show a surface plot, with colors given by d3.",xtra:r.a.createElement(Pe.a,null)},r.a.createElement(Be,null))},Te=function(){var e=Object(a.useRef)(),t=Object(Pe.b)("width",{type:"number",value:5,min:1,max:10}),n=Object(Pe.b)("height",{type:"number",value:5,min:1,max:10}),o=Object(Pe.b)("width segments",{type:"number",value:10,min:2,max:100}),c=Object(Pe.b)("height segments",{type:"number",value:10,min:2,max:100}),l=Object(Pe.b)("max elevation",{type:"number",value:.35,min:0,max:2}),i=Object(Pe.b)("wireframe",{type:"boolean",value:!1}),u=Object(a.useCallback)((function(e){for(var t=e.attributes.position.array,n=0;n<t.length;n++)n%3===2&&(t[n]=Math.random()*l)}),[l]);Object(a.useEffect)((function(){u(e.current),e.current.attributes.position.needsUpdate=!0}),[l,u]);var m=Object(a.useMemo)((function(){return{vertexShader:"\n  varying float z;\n\n  void main() {\n    vec3 pos = position;\n    z = pos.z;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n  }\n",fragmentShader:"\n  varying float z;\n  \n  void main() {\n    gl_FragColor = vec4(z, 0.1, 0.3, 1.0);\n  }\n"}}),[]);return r.a.createElement("mesh",{"rotation-x":-Math.PI/2,"position-y":-1.5},r.a.createElement("planeBufferGeometry",{ref:e,attach:"geometry",args:[t,n,o,c],onUpdate:function(e){return u(e)}}),r.a.createElement("shaderMaterial",Object.assign({attach:"material"},m,{side:x.DoubleSide,wireframe:i})),r.a.createElement(d.a,null))},Re=function(){return r.a.createElement(h,{text:"Using a plane buffer geometry to show a surface plot, with colors given by a fragment shader.",xtra:r.a.createElement(Pe.a,null)},r.a.createElement(Te,null))},Ve=function(){return r.a.createElement(oe,{description:"Basic template to play with shaders.",textureEnable:!1,vertexShader:"\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  uniform float u_time;\n  uniform float u_aspect;\n  uniform vec2 u_mouse;\n\n  void main() {\n    vec2 st = vUv;\n    st.y += sin(u_time) * 0.05;\n    vec2 mouse = (u_mouse + 1.0) / 2.0;\n    gl_FragColor = vec4(st.x, st.y, (mouse.x + mouse.y) / 2.0, 1.0);\n  }\n"},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[2,2]}))},Ie=function(){return r.a.createElement(oe,{description:"Playing with shapes on shaders.",textureEnable:!1,vertexShader:"\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  uniform float u_time;\n  uniform float u_aspect;\n  uniform vec2 u_mouse;\n\n  void main() {\n    vec2 st = vUv;\n    vec3 color = vec3(0.0);\n    vec2 mouse = u_mouse;\n\n    float d = 0.0;\n    st = st * 2. - 1.; // normalize between 0-1\n    st.x -= mouse.x;\n    st.y = step(1.0, st.y);\n    d = length( abs(st) - sin(u_time/2.0) );\n    color = vec3(st.x, st.y + mouse.y*0.25, 0.0);\n    color.b += (mouse.x + 1.0) / 2.0 * 0.35;\n    color += fract(d*12.0);\n\n    gl_FragColor=vec4(color, 1.0);\n  }\n"},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[2,2]}))},Le=n(57),qe=n(58),He=function(e){var t=e.bounds,n=Object(f.g)().mouse,o=Object(a.useMemo)((function(){return{vertexShader:"\n  void main() {\n    gl_Position = vec4( position, 1.0 );\n  }\n",fragmentShader:"\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform vec2 u_mouse;\n\n  const mat2 m = mat2( 0.80,  0.60, -0.60,  0.80 );\n\n  float hash( vec2 p ) {\n    float h = dot(p,vec2(127.1,311.7));\n    return -1.0 + 2.0*fract(sin(h)*43758.5453123);\n  }\n\n  float noise( in vec2 p ) {\n    vec2 i = floor( p );\n    vec2 f = fract( p );\n    vec2 u = f*f*(3.0-2.0*f);\n\n    return mix( mix( hash( i + vec2(0.0,0.0) ), \n                    hash( i + vec2(1.0,0.0) ), u.x),\n                mix( hash( i + vec2(0.0,1.0) ), \n                    hash( i + vec2(1.0,1.0) ), u.x), u.y);\n  }\n\n  float fbm( vec2 p )\n  {\n      float f = 0.0;\n      f += 0.5000*noise( p ); p = m*p*2.02;\n      f += 0.2500*noise( p ); p = m*p*2.03;\n      f += 0.1250*noise( p ); p = m*p*2.01;\n      f += 0.0625*noise( p );\n      return f/0.9375;\n  }\n\n  vec2 fbm2( in vec2 p )\n  {\n      return vec2( fbm(p.xy), fbm(p.yx) );\n  }\n\n  vec3 map( vec2 p )\n  {   \n      p *= 0.7;\n      float t = u_time * ( 1.0 + 2. * distance(u_mouse, vec2(0.0)));\n\n      float f = dot( fbm2( 1.0*(0.05*t + p + fbm2(-0.05*t+2.0*(p + fbm2(4.0*p)))) ), vec2(1.0,-1.0) );\n\n      float bl = smoothstep( -0.8, 0.8, f );\n\n      float ti = smoothstep( -1.0, 1.0, fbm(p) );\n\n      return mix( mix( vec3(0.50,0.00,0.00), \n                       vec3(1.00,0.75,0.35), ti ), \n                       vec3(0.00,0.00,0.02), bl );\n  }\n\n  void main() {\n    vec2 p = (-u_resolution.xy+2.0*gl_FragCoord.xy)/u_resolution.y;\n\n    float e = 0.0045;\n\n    vec3 colc = map( p               ); float gc = dot(colc,vec3(0.433));\n    vec3 cola = map( p + vec2(e,0.0) ); float ga = dot(cola,vec3(0.333));\n    vec3 colb = map( p + vec2(0.0,e) ); float gb = dot(colb,vec3(0.333));\n    \n    vec3 nor = normalize( vec3(ga-gc, e, gb-gc ) );\n\n    vec3 col = colc;\n    col += vec3(1.0,0.7,0.6)*8.0*abs(2.0*gc-ga-gb);\n    col *= 1.0+0.2*nor.y*nor.y;\n    col += 0.05*nor.y*nor.y*nor.y;\n    \n    \n    vec2 q = gl_FragCoord.xy/u_resolution.xy;\n    col *= pow(16.0*q.x*q.y*(1.0-q.x)*(1.0-q.y),0.1);\n    vec2 m = (u_mouse.xy + 1.0 ) / 2.0;\n    col.r *= m.x;\n    col.g *= m.y;\n    \n    gl_FragColor = vec4( col, 1.0 );\n  }\n",uniforms:{u_time:{value:0},u_resolution:{value:new x.Vector2},u_mouse:{value:n}}}}),[n]);return Object(a.useEffect)((function(){o.uniforms.u_resolution.value.x=t.width,o.uniforms.u_resolution.value.y=t.height}),[t,o]),Object(f.d)((function(){o.uniforms.u_time.value+=.05})),r.a.createElement("mesh",null,r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[2,2]}),r.a.createElement("shaderMaterial",Object.assign({attach:"material"},o)))},Ke=function(){return r.a.createElement(p,null,"A more complex test (inspired by"," ",r.a.createElement("a",{className:"font-semibold",href:"https://www.shadertoy.com/view/MdSXzz",target:"_black"},"this work"),").")},Xe=function(){var e=Object(Le.a)({polyfill:qe.a}),t=Object(v.a)(e,2),n=t[0],a=t[1];return r.a.createElement(h,{xtra:r.a.createElement(Ke,null),measure:n},r.a.createElement(He,{bounds:a}))},Je=n(68),We=n.n(Je),Qe=function(){return r.a.createElement(oe,{description:"Example of a Koch Snowflake fractal pattern, try a custom texture:",texture:We.a,vertexShader:"\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  uniform float u_time;\n  uniform float u_aspect;\n  uniform vec2 u_mouse;\n  uniform sampler2D u_texture;\n\n  vec2 N(float angle) {\n    return vec2(sin(angle), cos(angle));\n  }\n\n  void main() {\n    vec2 uv = vUv - 0.5;\n    uv.x *= u_aspect;\n    vec2 mouse = (u_mouse + 1.0) / 2.0;\n\n    uv *= 1.5; // zoom \n    vec3 col = vec3(0.0);\n\n    uv.x = abs(uv.x); // reflect x coords\n\n    // shift y coord to center the graph\n    // tan(a) = y / 0.5 -> y = tan(a)*0.5\n    uv.y += tan(5.0/6.0*3.1415) * 0.5;\n\n    // setup a reflection over an angle\n    vec2 n = N(5.0/6.0*3.1415); // reflection angle\n    float d = dot(uv - vec2(0.5, 0.0), n); // vec2 sets the reflection point\n    uv -= max(0.0, d)*n*2.0;\n\n    // col += smoothstep(0.01, 0.0, abs(d)); // a line\n\n    n = N(u_mouse.y * (2.0/3.0) * 3.1415);\n    uv.x += 0.5; // compensates the 1st step on for loop ( + 1.5/3)\n    float scale = 2.0; // track the width of the lines\n\n    for(int i=0; i<10; i++) {\n      scale *= 3.0;\n      uv *= 3.0;\n      uv.x -= 1.5;\n\n      uv.x = abs(uv.x); // reflect x coords\n      uv.x -= 0.5;\n      uv -= min(0.0, dot(uv, n))*n*2.0; // reflection over angle\n      uv *= 0.9 + mouse.x * 0.1;\n    }\n\n    d = length(uv - vec2(clamp(uv.x, -1.0, 1.0), 0.0));\n    uv /= scale; // normalize\n    col += texture2D(u_texture, uv*2.0 + u_time*0.3).rgb;\n\n    gl_FragColor=vec4(col, 1.0);\n  }\n"},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[2,2]}))},Ye=function(){return r.a.createElement(oe,{description:"Example of a MandelBrot fractal pattern.",textureEnable:!1,vertexShader:"\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  uniform float u_time;\n  uniform float u_aspect;\n  uniform vec2 u_mouse;\n  uniform sampler2D u_texture;\n\n  void main() {\n    vec2 uv = vUv - 0.5;\n    uv.x *= u_aspect;\n    vec2 mouse = (u_mouse + 1.0) / 2.0;\n    float zoom = pow(10.0, 5.0 * (0.1 - mouse.y));\n\n    vec2 c = uv*zoom*2.8;\n    c += vec2(-0.69955, 0.37999);\n\n    vec2 z = vec2(0.0);\n    float iter = 0.0;\n\n    float ma = 100.0;\n    const float max_iter = 100.0;\n\n    for(float i=0.0; i<max_iter; i++) {\n      z = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + c; // z^2 of a complex number\n      // ma = distance(z, mouse)*mouse.x*0.5;\n      // z *= mouse.x;\n      if(length(z) > 2.0) break;\n      iter++;\n    }\n\n    float f = iter/max_iter;\n    // f = ma;\n\n    vec3 col = vec3(f);\n    vec2 t = vec2(sin(u_time*0.1), cos(u_time*0.15))*0.5;\n    col.rb += vUv * 0.5 + t;\n    gl_FragColor=vec4(col, 1.0);\n  }\n"},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[2,2]}))},Ze=function(){var e=Object(f.g)(),t=e.mouse,n=e.clock,o=Object(f.f)(),c=Object(v.a)(o,2),l=c[0],i=c[1],u=Object(a.useMemo)((function(){if(!i)return{randomDirections:void 0,randomStrengths:void 0};for(var e=i.getAttribute("position").count/3,t=new x.Vector3,n=[],a=[],r=0;r<e;r++){var o=t.set.apply(t,Object(De.a)(Array(3).fill().map((function(){return Math.random()})))).multiplyScalar(2).subScalar(1).normalize().toArray();n.push.apply(n,Object(De.a)(Array(3).fill(o).flat())),a.push.apply(a,Object(De.a)(Array(3).fill(Math.random())))}return{randomDirections:new Float32Array(n),randomStrengths:new Float32Array(a)}}),[i]),m=u.randomDirections,s=u.randomStrengths,d=Object(a.useMemo)((function(){return{vertexShader:"\n  attribute vec3 randomDirections;\n  attribute float randomStrength;\n  uniform float u_explosion;\n  uniform vec2 u_mouse;\n  varying vec2 vUv;\n  varying vec3 vPos;\n\n  void main() {\n    vUv = uv;\n    vPos = position;\n    vec3 pos = position;\n    pos += randomDirections * randomStrength * pow(u_explosion*1.5, 2.0);\n    // pos += randomDirections * randomStrength * distance(u_mouse, vec2(0.0));\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n  }\n",fragmentShader:"\n  uniform float u_time;\n  uniform vec2 u_mouse;\n  varying vec2 vUv;\n  varying vec3 vPos;\n\n  void main() {\n    vec3 col = normalize(vPos) * 0.5 + 0.5;\n    gl_FragColor = vec4(col, 1.0);\n    // vec2 st = vUv;\n    // st.y += sin(u_time) * 0.05;\n    // vec2 mouse = (u_mouse + 1.0) / 2.0;\n    // gl_FragColor = vec4(st.x, st.y, (mouse.x + mouse.y) / 2.0, 1.0);\n  }\n",uniforms:{u_explosion:{value:1},u_mouse:{value:t}}}}),[t]);return Object(f.d)((function(){d.uniforms.u_explosion.value=.5*Math.sin(n.elapsedTime/1.5-Math.PI/4)+.5})),r.a.createElement("mesh",null,r.a.createElement("icosahedronBufferGeometry",{ref:l,attach:"geometry",args:[1.5,6]},m&&r.a.createElement("bufferAttribute",{attachObject:["attributes","randomDirections"],count:m.length/3,array:m,itemSize:3}),s&&r.a.createElement("bufferAttribute",{attachObject:["attributes","randomStrength"],count:s.length,array:s,itemSize:1})),r.a.createElement("shaderMaterial",Object.assign({attach:"material",side:x.DoubleSide},d)))},$e=function(){return r.a.createElement(h,{text:"An exploding sphere using vertex shaders."},r.a.createElement(Ze,null),r.a.createElement(d.a,null))},et=function(){return r.a.createElement(oe,{description:"A simple shader code editor",texture:We.a,vertexShader:"\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0 );\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  uniform float u_time;\n  uniform float u_aspect;\n  uniform vec2 u_mouse;\n  uniform sampler2D u_texture;\n\n  void main() {\n    vec2 uv = vUv - 0.5;\n    uv.x *= u_aspect;\n    vec2 mouse = (u_mouse + 1.0) / 2.0; // 0-1\n\n    uv *= 1.0; // control zoom \n    vec3 col = vec3(0.0);\n\n\n    // Circle\n    vec2 center = vec2(0.0);\n    float r = 0.1;\n    // r = 0.1 + sin(u_time)*0.02; // using time\n    // center = clamp(u_mouse, -0.5, 0.5); // using mouse\n    float pct = distance(uv, center);\n    col += smoothstep(r, r-0.001, pct);\n\n    // col += texture2D(u_texture, vUv).rgb; // texture example\n\n    gl_FragColor=vec4(col, 1.0);\n  }\n"},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[2,2]}))};n(405);function tt(){var e=Object(l.a)(["\n  position: absolute;\n  display: flex;\n  flex-wrap: wrap;\n  flex-flow: column;\n  justify-content: space-between;\n  margin-top: 3rem;\n  padding: 1em 1em;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 100;\n  transition: all 0.2s ease-out;\n\n  ","\n"]);return tt=function(){return e},e}var nt=function(e){var t=e.children,n=Object(i.a)(e,["children"]);return r.a.createElement(u.b,Object.assign({className:"pb-1",activeClassName:"text-gray-400 hover:text-gray-400 font-bold",exact:!0},n),t)},at=s.a.div(tt(),(function(e){return!e.isHome&&"\n    border-right: rgba(20, 20, 20, 0.6) 1.0rem solid;\n    transform: translateX(calc(80px - 100%));\n    padding-right: 80px;\n\n    &:hover {\n      transform: translateX(0px);\n      padding-right: 1em;\n      border-right: rgba(0, 0, 0, 0.0) 1.0rem solid;\n    }"})),rt=function(){return r.a.createElement("div",{className:"pt-10 text-center"},r.a.createElement("h1",null,"Threejs Playground"),r.a.createElement("p",{className:"mt-10"},"Made by: Renato Hermoza, check the"," ",r.a.createElement("a",{href:"https://github.com/renato145/threejs_playground/",target:"_black"},"source code"),"."))},ot=function(){var e="/"===Object(m.f)().pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{isHome:e},r.a.createElement(nt,{to:"/"},"Home"),r.a.createElement(nt,{to:"/BoxGeometry"},"BoxGeometry"),r.a.createElement(nt,{to:"/SurfaceD3"},"SurfaceD3"),r.a.createElement(nt,{to:"/SurfaceShader"},"SurfaceShader"),r.a.createElement(nt,{to:"/CubeShader"},"CubeShader"),r.a.createElement(nt,{to:"/PlaneGeometry"},"PlaneGeometry"),r.a.createElement(nt,{to:"/PlaneGeometryShader"},"PlaneGeometryShader"),r.a.createElement(nt,{to:"/ShaderTemplate"},"ShaderTemplate"),r.a.createElement(nt,{to:"/ShaderShapes"},"ShaderShapes"),r.a.createElement(nt,{to:"/ShaderTexture"},"ShaderTexture"),r.a.createElement(nt,{to:"/FractalKoch"},"FractalKoch"),r.a.createElement(nt,{to:"/FractalMandelBrot"},"FractalMandelBrot"),r.a.createElement(nt,{to:"/ExplodingSphere"},"ExplodingSphere"),r.a.createElement(nt,{to:"/ShaderEditor"},"ShaderEditor"),r.a.createElement("a",{href:"https://github.com/renato145/threejs_playground/",target:"_black"},"Source Code")),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(rt,null)),r.a.createElement(m.a,{path:"/BoxGeometry"},r.a.createElement(g,null)),r.a.createElement(m.a,{path:"/SurfaceD3"},r.a.createElement(W,null)),r.a.createElement(m.a,{path:"/SurfaceShader"},r.a.createElement(Fe,null)),r.a.createElement(m.a,{path:"/CubeShader"},r.a.createElement(ke,null)),r.a.createElement(m.a,{path:"/PlaneGeometry"},r.a.createElement(Ge,null)),r.a.createElement(m.a,{path:"/PlaneGeometryShader"},r.a.createElement(Re,null)),r.a.createElement(m.a,{path:"/ShaderTemplate"},r.a.createElement(Ve,null)),r.a.createElement(m.a,{path:"/ShaderShapes"},r.a.createElement(Ie,null)),r.a.createElement(m.a,{path:"/ShaderTexture"},r.a.createElement(Xe,null)),r.a.createElement(m.a,{path:"/FractalKoch"},r.a.createElement(Qe,null)),r.a.createElement(m.a,{path:"/FractalMandelBrot"},r.a.createElement(Ye,null)),r.a.createElement(m.a,{path:"/ExplodingSphere"},r.a.createElement($e,null)),r.a.createElement(m.a,{path:"/ShaderEditor"},r.a.createElement(et,null))))},ct=function(){return r.a.createElement(u.a,{basename:"/"},r.a.createElement(ot,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ct,null)),document.getElementById("root"))},68:function(e,t,n){e.exports=n.p+"static/media/texture1.72757f21.png"}},[[230,1,2]]]);
//# sourceMappingURL=main.e6fd8d3f.chunk.js.map